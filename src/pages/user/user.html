<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{ user.name }}</ion-title>
    <ion-buttons end>
      <button class="disable-hover" (click)="nav.pop()" ion-button block clear>
        <ion-icon name="car"></ion-icon> &nbsp;
        Inicio
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <form ngNoForm>
    <input id="avatar" name="file" type="file" (change)="upload()">
  </form>
  <ion-card>
    <ion-card-content>
      <ion-item>
        <ion-avatar item-start>
          <img src="{{ user.photoURL }}" (click)="chooseFile()">
        </ion-avatar>
        <ion-label>
          {{user.name}}
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>Tus Puntos: {{afiliado?.puntos}}</ion-label>
        <ion-label>Codigo para invitar: {{afiliado?.code}}</ion-label>
      </ion-item>
      <ion-list>
        <ion-item>
          <ion-label stacked color="primary">{{'FULLNAME' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]="user.name"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked color="primary">{{'PHONE_NUMBER' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]="user.phoneNumber" [disabled]="user.isPhoneVerified"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked color="primary">{{'EMAIL_ADDRESS' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]="user.email" disabled></ion-input>
        </ion-item>
        <ion-item>
          <button ion-button block (click)="save()">{{'SAVE' | translate}}</button>
        </ion-item>
        <ion-item style="text-align: center">
          <button ion-button (click)="logout()">
            <ion-icon name="log-out"></ion-icon>
            Cerrar sesión
          </button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      Invita a tus amigos a registrarse con tu codigo y tu obtendras puntos extras.
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label floating>Personaliza tu msensaje</ion-label>
          <ion-textarea [(ngModel)]="mensaje"></ion-textarea>
        </ion-item>
      </ion-list>
      <button ion-button outline color="primary" (click)="share()" icon-right block>
        Enviar invitación
        <ion-icon name="share"></ion-icon>
      </button>
    </ion-card-content>
  </ion-card>
</ion-content>
